###basic lab setup to demo and validate Isilon behavior

####Updated 01/2020


isi license add --evaluation=SMARTCONNECT_ADVANCED

###hit space, until end of eula, hit q and yes to accept eula

###1a.setup SmartConnect on Isilon

isi network subnets modify groupnet0.subnet0 --sc-service-addr=192.168.1.100 --sc-service-name=ssip-isilon.demo.local
isi network pools create --id=groupnet0:subnet0:pool1 --ranges=192.168.1.60-192.168.1.80  --access-zone=System  --alloc-method=dynamic  --ifaces=1-3:ext-1 --sc-subnet=subnet0  --sc-dns-zone=mp.demo.local    --description=mp_pool


###join Active Directory
isi auth ads create demo.local administrator --password=Password123!
isi auth ads list
isi zone zones modify System --add-auth-providers=lsa-activedirectory-provider:DEMO.LOCAL
isi zone zones list -v


###GO to windows DNS
-go to the demo.local zone
-Add A record ssip-isilon  192.168.1.100
-Add NS record mp    --> ssip-isilon.demo.local
-Test SCzone:
nslookup mp.demo.local 192.168.1.2

OR (either way make sure you understand smartconnect)
 
###Run the following PowerShell command:
Add-DnsServerZoneDelegation -Name "demo.local" -ChildZoneName "mp" -NameServer "ssip-isilon.demo.local" -IPAddress 192.168.1.100

-Test SCzone:
nslookup mp.demo.local 192.168.1.2


###on isilon make our base mp directory

mkdir -p /ifs/mp
chmod 777 /ifs/mp
touch /ifs/mp/this_is_isilon.txt
chmod 777 /ifs/mp/this_is_isilon.txt
cd /ifs/mp
ls -al 
ls -le this_is_isilon.txt
ls -len this_is_isilon.txt


###basic Isilon administration


###review the status of a cluster
isi status



